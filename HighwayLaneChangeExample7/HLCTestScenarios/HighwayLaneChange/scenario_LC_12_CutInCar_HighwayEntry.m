function [scenario, egoVehicle, roadCenters] = scenario_LC_12_CutInCar_HighwayEntry()
% scenario_LC_12_CutInCar_HighwayEntry creates a scenario that is
% compatible with HighwayLaneChangeTestBench.slx. This test scenario is on
% a highway road with an entry road. There are four vehicles in the
% scenario. One of the vehicle is cut-in into the ego lane.
%
% This scenario is created in Driving Scenario Designer and exported as a
% MATLAB function.

%   Copyright 2020-2021 The MathWorks, Inc.

% Construct a drivingScenario object.
scenario = drivingScenario('StopTime', 20, ...
    'SampleTime', 0.1);

% Add all road segments
roadCenters = [57.03213 -1223.454 0;
    52.57648 -1138.823 0;
    40.3209 -862.7384 0;
    35.85877 -764.1326 0;
    35.85681 -746.0532 0;
    35.85499 -728.8004 0;
    30.29402 -607.1907 0;
    19.17013 -382.0432 0;
    10.27032 -189.7685 0;
    -0.8400961 33.73419 0;
    -8.611945 198.8942 0;
    -9.719377 217.7933 0;
    -10.8255 271.2052 0;
    -13.04712 353.3721 0;
    -13.04578 378.8487 0;
    -11.933 458.5497 0;
    -6.362575 612.2073 0;
    1.432155 809.4135 0;
    6.999424 951.5686 0;
    9.243676 1081.396 0;
    9.251104 1128.23 0;
    13.70308 1192.323 0;
    14.8248 1217.799 0;
    14.8248 1217.799 0;
    15.93671 1239.983 0;
    22.61518 1304.896 0;
    24.83646 1332.831 0;
    30.40468 1382.136 0;
    41.52869 1461.015 0;
    55.98726 1541.539 0;
    77.11896 1645.884 0;
    106.0297 1761.735 0;
    154.9476 1930.99 0;
    159.3932 1946.603 0;
    239.4571 2224.305 0;
    243.9036 2240.736 0;
    258.3598 2286.745 0;
    268.3695 2316.322 0;
    278.3788 2344.253 0;
    289.4956 2370.544 0;
    303.9469 2400.119 0;
    328.3948 2446.123 0;
    346.1797 2475.697 0;
    359.5206 2497.056 0;
    389.5271 2541.411 0;
    416.2059 2575.092 0;
    442.8747 2606.308 0;
    472.8772 2638.335 0;
    501.7699 2665.438 0;
    526.2196 2687.618 0;
    580.6681 2731.142 0;
    619.5516 2757.421 0;
    661.778 2784.517 0;
    671.7803 2790.263 0;
    679.5565 2794.365 0;
    695.1094 2803.401 0;
    710.6623 2812.43 0;
    722.8905 2819.821 0;
    763.9982 2842.806 0;
    811.7743 2869.899 0;
    837.3296 2884.681 0;
    837.3296 2884.681 0;
    1113.996 3042.304 0;
    1528.442 3284.472 0;
    1528.442 3284.472 0;
    1556.225 3300.888 0;
    1585.115 3317.304 0;
    1672.895 3368.196 0;
    1732.902 3402.671 0;
    1792.901 3438.785 0;
    1849.568 3479.01 0;
    1896.243 3513.49 0;
    1899.577 3515.953 0;
    1935.143 3548.793 0;
    1956.261 3567.675 0;
    2005.159 3616.943 0;
    2049.618 3667.844 0;
    2090.753 3720.399 0;
    2128.548 3774.594 0;
    2163.01 3830.435 0;
    2210.833 3917.479 0;
    2347.608 4169.582 0;
    2418.777 4301.786 0;
    2462.151 4381.432 0;
    2468.824 4392.107 0;
    2494.402 4436.45 0;
    2513.306 4470.112 0;
    2546.677 4529.232 0];
laneSpecification = lanespec(3);
highwayRoad = road(scenario, roadCenters, 'Lanes', laneSpecification);

roadCenters1 = [14.8248 1217.799 0;
    30.3828 1267.096 0;
    37.05624 1304.073 0;
    41.50236 1329.542 0;
    44.83818 1342.689 0;
    50.39115 1361.587 0;
    68.17482 1407.598 0;
    70.40112 1412.529 0;
    75.95327 1426.495 0;
    83.73007 1437.176 0;
    95.95853 1452.787 0];
laneSpecification = lanespec(2);
road(scenario, roadCenters1, 'Lanes', laneSpecification);

roadCenters2 = [555.0992 2680.21 0;
    562.8786 2692.528 0;
    579.5418 2708.134 0;
    596.2138 2722.094 0;
    628.4399 2748.375 0;
    651.7696 2763.158 0;
    705.1057 2794.355 0;
    745.106 2818.986 0;
    785.1054 2841.158 0;
    808.437 2860.046 0;
    837.3296 2884.681 0];
laneSpecification = lanespec(2);
road(scenario, roadCenters2, 'Lanes', laneSpecification);

roadCenters3 = [1528.442 3284.472 0;
    1432.881 3217.151 0;
    1406.215 3198.268 0;
    1395.103 3188.419 0;
    1385.099 3181.028 0;
    1365.1 3162.142 0;
    1347.317 3142.429 0;
    1331.758 3121.901 0;
    1317.308 3101.367 0;
    1305.073 3080.838 0;
    1301.737 3075.082 0;
    1295.065 3061.12 0;
    1286.173 3041.409 0;
    1275.051 3006.908 0;
    1269.484 2988.834 0;
    1262.819 2969.941 0;
    1259.482 2960.908 0;
    1252.81 2949.411 0;
    1245.031 2939.553 0;
    1236.136 2931.342 0;
    1227.25 2924.776 0;
    1219.473 2919.029 0;
    1191.692 2903.43 0];
laneSpecification = lanespec(1);
road(scenario, roadCenters3, 'Lanes', laneSpecification);

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [232.8 2199.8 0], ...
    'FrontOverhang', 0.9);
waypoints = [232.8 2199.8 0;
    239.53 2224.56 0.01;
    243.89 2240.81 0.01;
    258.34 2286.84 0.01;
    258.55 2287.45 0.01;
    280.2 2358.4 0;
    280.7 2359.7 0;
    286.31 2372.41 0.01;
    300.98 2402.57 0.01;
    325.49 2448.15 0.01;
    340.98 2474.27 0.01;
    356.18 2499.01 0.01;
    387.43 2544.74 0.01;
    413.75 2577.99 0.01;
    441.03 2609.45 0.01;
    467.69 2638.34 0.01;
    494.29 2663.4 0.01;
    530.15 2695.82 0.01;
    556.17 2717.75 0.01;
    590.04 2742.02 0.01];
speed = 20;
trajectory(egoVehicle, waypoints, speed);

% Add the non-ego actors
car1 = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [256 2268 0]);
waypoints = [256 2268 0;
    268.19 2304.56 0.01;
    274.45 2322.93 0.01;
    274.74 2323.71 0.01;
    292.61 2377.62 0.01;
    293.11 2378.61 0.01;
    296.76 2385.86 0.01;
    303.9 2400.3 0;
    328.4 2446.17 0.01;
    346.68 2476.5 0.01;
    359.6 2497.1 0;
    389.6 2541.4 0;
    416.66 2575.59 0.01;
    443.1 2606.5 0;
    473.1 2638.5 0;
    502.37 2666.15 0.01;
    526.1 2687.4 0;
    558 2714 0;
    580.7 2731.1 0];
speed = 15;
trajectory(car1, waypoints, speed);

car2 = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [219.53 2166.09 0.01]);
waypoints = [219.53 2166.09 0.01;
    226.73 2191.02 0.01;
    232.63 2213.07 0.01;
    236.38 2226.61 0.01;
    240.4 2242 0;
    254.01 2285.19 0.01;
    265.2 2318.3 0;
    274.03 2342.84 0.01;
    286.2 2372.2 0;
    300.8 2402.3 0;
    325.05 2447.38 0.01;
    346.48 2483.53 0.01;
    356.2 2499 0;
    387.3 2544.5 0;
    413.6 2577.7 0;
    440.9 2609.4 0;
    476.34 2646.63 0.01;
    502.9 2671.28 0.01;
    521.26 2688.14 0.01;
    556.1 2717.8 0;
    590 2742 0];
speed = 33;
trajectory(car2, waypoints, speed);

car3 = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [276.08 2327.44 0.01]);
waypoints = [276.08 2327.44 0.01;
    280.65 2339.76 0.01;
    284.86 2350.68 0.01;
    292.5 2368.9 0;
    307 2398.8 0;
    331.4 2444.1 0;
    349.3 2473.9 0;
    362.5 2495.2 0;
    393.04 2540.17 0.01;
    423.53 2578.18 0.01;
    447.51 2606 0.01;
    480.71 2640.97 0.01;
    507.79 2665.9 0.01;
    534.84 2690.36 0.01;
    559.4 2710.8 0;
    583.2 2728.6 0];
speed = 10;
trajectory(car3, waypoints, speed);

% Output road centers
roadCenters = highwayRoad.RoadCenters;
end